!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.vnStr=r():e.vnStr=r()}(this,(function(){return(()=>{var e={492:(e,r,t)=>{var n=t(665),o=n.isVietnamesePhoneNumber,i=n.isVietnameseTones,s=t(54).i,a=t(500),u=a.rmNonAlphanumeric,m=a.rmVnTones,p=t(31),l=p.strToTelex,c=p.strToVNI;e.exports.isVietnamesePhoneNumber=o,e.exports.isVietnameseTones=i,e.exports.numToText=s,e.exports.rmNonAlphanumeric=u,e.exports.rmVnTones=m,e.exports.strToTelex=l,e.exports.strToVNI=c},54:(e,r,t)=>{"use strict";t.d(r,{i:()=>l});var n=["không","một","hai","ba","bốn","năm","sáu","bảy","tám","chín"],o=["mười","hai mươi","ba mươi","bốn mươi","năm mươi","sáu mươi","bảy mươi","tám mươi","chín mươi"],i=["không trăm","một trăm","hai trăm","ba trăm","bốn trăm","năm trăm","sáu trăm","bảy trăm","tám trăm","chín trăm"];function s(e){var r=(""+e).split(""),t=parseInt(r[0]),i=parseInt(r[1]);return 0===i?o[t-1]:5===i?o[t-1]+" lăm":4===i?o[t-1]+" tư":1===i?1===t?o[t-1]+" một":o[t-1]+" mốt":o[t-1]+" "+n[i]}function a(e){var r=(""+e).split(""),t=parseInt(r[0]),o=parseInt(r[1]),a=parseInt(r[2]);return o>0?i[t]+" "+s(""+o+a):0===a?""+i[t]:4===a?i[t]+" linh tư":i[t]+" linh "+n[a]}function u(e){var r=(""+e).split("").reverse(),t=r.slice(0,3).reverse().join(""),o=parseInt(r.slice(3,r.length).reverse().join("")),i=(""+o).length,u="";return parseInt(t)>1&&(u=a(t)),1===i?n[o]+" nghìn "+u:2===i?s(""+o)+" nghìn "+u:a(""+o)+" nghìn "+u}function m(e){var r=(""+e).split("").reverse(),t=r.slice(0,6).reverse().join(""),o=parseInt(r.slice(6,r.length).reverse().join("")),i=(""+o).length,m="";return parseInt(t)>999?m=u(t):parseInt(t)<=999&&parseInt(t)>=1&&(m=a((""+t).split("").slice(3,6).join(""))),1===i?n[o]+" triệu "+m:2===i?s(""+o)+" triệu "+m:a(""+o)+" triệu "+m}function p(e){var r=(""+e).split("").reverse(),t=r.slice(0,9).reverse().join(""),o=parseInt(r.slice(9,r.length).reverse().join("")),i="";parseInt(t)>999999&&parseInt(t)<=999999999?i=m(t):parseInt(t)<=999999&&parseInt(t)>999?i=u((""+t).split("").slice(3,9).join("")):parseInt(t)<=999&&parseInt(t)>=1&&(i=a((""+t).split("").slice(6,9).join("")));var l=(""+o).length;return 1===l?n[o]+" tỷ "+i:2===l?s(""+o)+" tỷ "+i:3===l?a(""+o)+" tỷ "+i:l>3&&l<=6?u(""+o)+" tỷ "+i:l>6&&l<=9?m(""+o)+" tỷ "+i:l>9?p(""+o)+" tỷ "+i:void 0}function l(e){if(e<0)return"âm "+l(Math.abs(e));var r=(""+e).length;return 1===r?n[e].trim():2===r?s(""+e).trim():3===r?a(""+e).trim():r>3&&r<=6?u(""+e).trim():r>6&&r<=9?m(""+e).trim():r>9?p(""+e).trim():null}},31:(e,r,t)=>{"use strict";t.r(r),t.d(r,{strToTelex:()=>i,strToVNI:()=>s});var n={á:"as",à:"af",ả:"ar",ã:"ax",ạ:"aj",ắ:"aws",ằ:"awf",ẳ:"awr",ẵ:"awx",ặ:"awj",ă:"aw",ấ:"aas",ầ:"aaf",ẩ:"aar",ẫ:"aax",ậ:"aaj",â:"aa",đ:"dd",é:"es",è:"ef",ẻ:"er",ẽ:"ex",ẹ:"ej",ế:"ees",ề:"eef",ể:"eer",ễ:"eex",ệ:"eej",ê:"ee",í:"is",ì:"if",ỉ:"ir",ĩ:"ix",ị:"ij",ó:"os",ò:"of",ỏ:"or",õ:"ox",ọ:"oj",ố:"oos",ồ:"oof",ổ:"oor",ỗ:"oox",ộ:"ooj",ô:"oo",ớ:"ows",ờ:"owf",ở:"owr",ỡ:"owx",ợ:"owj",ơ:"ow",ú:"us",ù:"uf",ủ:"ur",ũ:"ux",ụ:"uj",ứ:"uws",ừ:"uwf",ử:"uwr",ữ:"uwx",ự:"uwj",ư:"uw",ý:"ys",ỳ:"yf",ỷ:"yr",ỹ:"yx",ỵ:"yj"},o={á:"a1",à:"a2",ả:"a3",ã:"a4",ạ:"a5",ắ:"a81",ằ:"a82",ẳ:"a83",ẵ:"a84",ặ:"a85",ă:"a8",ấ:"a61",ầ:"a62",ẩ:"a63",ẫ:"a64",ậ:"a65",â:"a6",đ:"d9",é:"e1",è:"e2",ẻ:"e3",ẽ:"e4",ẹ:"e5",ế:"e61",ề:"e62",ể:"e63",ễ:"e64",ệ:"e65",ê:"e6",í:"i1",ì:"i2",ỉ:"i3",ĩ:"i4",ị:"i5",ó:"o1",ò:"o2",ỏ:"o3",õ:"o4",ọ:"o5",ố:"o61",ồ:"o62",ổ:"o63",ỗ:"o64",ộ:"o65",ô:"o6",ớ:"o71",ờ:"o72",ở:"o73",ỡ:"o74",ợ:"o75",ơ:"o7",ú:"u1",ù:"u2",ủ:"u3",ũ:"u4",ụ:"u5",ứ:"u71",ừ:"u72",ử:"u73",ữ:"u74",ự:"u75",ư:"u7",ý:"y1",ỳ:"y2",ỷ:"y3",ỹ:"y4",ỵ:"y5"};function i(e){return e.split("").map((function(e){return n[e]||e})).join("")}function s(e){return e.split("").map((function(e){return o[e]||e})).join("")}},500:(e,r,t)=>{"use strict";function n(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D")}function o(e){return e.replace(/[^0-9a-zàáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷỹđ\s]/gi,"")}t.r(r),t.d(r,{rmVnTones:()=>n,rmNonAlphanumeric:()=>o})},665:(e,r,t)=>{"use strict";function n(e){return/((^(\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(e)}function o(e){return e.split("").map((function(e){return new RegExp("^[ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂẾưăạảấầẩẫậắằẳẵặẹẻẽềềểếỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]+$").test(e)})).some((function(e){return e}))}t.r(r),t.d(r,{isVietnamesePhoneNumber:()=>n,isVietnameseTones:()=>o})}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}return t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(492)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92blN0ci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vdm5TdHIvLi9pbmRleC50cyIsIndlYnBhY2s6Ly92blN0ci8uL3NyYy9jb252ZXJ0TnVtYmVyLnRzIiwid2VicGFjazovL3ZuU3RyLy4vc3JjL2NvbnZlcnRTdHJpbmcudHMiLCJ3ZWJwYWNrOi8vdm5TdHIvLi9zcmMvcmVtb3ZlU3RyaW5nLnRzIiwid2VicGFjazovL3ZuU3RyLy4vc3JjL3ZhbGlkYXRlU3RyaW5nLnRzIiwid2VicGFjazovL3ZuU3RyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ZuU3RyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly92blN0ci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ZuU3RyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdm5TdHIvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJfYSIsImlzVmlldG5hbWVzZVBob25lTnVtYmVyIiwiaXNWaWV0bmFtZXNlVG9uZXMiLCJudW1Ub1RleHQiLCJfYiIsInJtTm9uQWxwaGFudW1lcmljIiwicm1WblRvbmVzIiwiX2MiLCJzdHJUb1RlbGV4Iiwic3RyVG9WTkkiLCJiYXNlIiwiYmFzZV90ZW4iLCJiYXNlX2h1bmRyZWQiLCJnZXRUZW4iLCJudW1iZXIiLCJhcnJheSIsInNwbGl0IiwiZmlyc3QiLCJwYXJzZUludCIsInNlY29uZCIsImdldEh1bmRyZWQiLCJ0aGlyZCIsImdldFRob3VzYW5kIiwicmV2ZXJzZV9hcnJheSIsInJldmVyc2UiLCJhZnRlcl9udW1iZXIiLCJzbGljZSIsImpvaW4iLCJiZWZvcmVfbnVtYmVyIiwibGVuZ3RoIiwiYmVmb3JlTGVuZ3RoIiwiYWZ0ZXJUZXh0IiwiZ2V0TWlsbGlvbiIsImdldEJpbGxpb24iLCJudW0iLCJNYXRoIiwiYWJzIiwidHJpbSIsIlZOX1RFTEVYIiwiw6EiLCLDoCIsIuG6oyIsIsOjIiwi4bqhIiwi4bqvIiwi4bqxIiwi4bqzIiwi4bq1Iiwi4bq3IiwixIMiLCLhuqUiLCLhuqciLCLhuqkiLCLhuqsiLCLhuq0iLCLDoiIsIsSRIiwiw6kiLCLDqCIsIuG6uyIsIuG6vSIsIuG6uSIsIuG6vyIsIuG7gSIsIuG7gyIsIuG7hSIsIuG7hyIsIsOqIiwiw60iLCLDrCIsIuG7iSIsIsSpIiwi4buLIiwiw7MiLCLDsiIsIuG7jyIsIsO1Iiwi4buNIiwi4buRIiwi4buTIiwi4buVIiwi4buXIiwi4buZIiwiw7QiLCLhu5siLCLhu50iLCLhu58iLCLhu6EiLCLhu6MiLCLGoSIsIsO6Iiwiw7kiLCLhu6ciLCLFqSIsIuG7pSIsIuG7qSIsIuG7qyIsIuG7rSIsIuG7ryIsIuG7sSIsIsawIiwiw70iLCLhu7MiLCLhu7ciLCLhu7kiLCLhu7UiLCJWTl9WTkkiLCJzdHIiLCJtYXAiLCJjaGFyIiwibm9ybWFsaXplIiwicmVwbGFjZSIsInRlc3QiLCJvIiwiUmVnRXhwIiwic29tZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFB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QUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxLQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLE1BRUhDLEVBQVMsQ0FDVG5FLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxLQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLEtBQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxNQUNIQyxFQUFHLE1BQ0hDLEVBQUcsTUFDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsS0FDSEMsRUFBRyxLQUNIQyxFQUFHLEtBQ0hDLEVBQUcsTUFNQSxTQUFTakcsRUFBV21HLEdBQ3ZCLE9BQU9BLEVBQ0YzRixNQUFNLElBQ040RixLQUFJLFNBQVVDLEdBQVEsT0FBT3ZFLEVBQVN1RSxJQUFTQSxLQUMvQ2xGLEtBQUssSUFNUCxTQUFTbEIsRUFBU2tHLEdBQ3JCLE9BQU9BLEVBQ0YzRixNQUFNLElBQ040RixLQUFJLFNBQVVDLEdBQVEsT0FBT0gsRUFBT0csSUFBU0EsS0FDN0NsRixLQUFLLE0sMkJDeEpQLFNBQVNyQixFQUFVcUcsR0FDdEIsT0FBT0EsRUFDRkcsVUFBVSxPQUNWQyxRQUFRLG1CQUFvQixJQUM1QkEsUUFBUSxLQUFNLEtBQ2RBLFFBQVEsS0FBTSxLQU1oQixTQUFTMUcsRUFBa0JzRyxHQUM5QixPQUFPQSxFQUFJSSxRQUFRLG1GQUFvRixJLG9GQ1pwRyxTQUFTOUcsRUFBd0IwRyxHQUNwQyxNQUFPLGtEQUFrREssS0FBS0wsR0FNM0QsU0FBU3pHLEVBQWtCeUcsR0FDOUIsT0FBT0EsRUFDRjNGLE1BQU0sSUFDTjRGLEtBQUksU0FBVUssR0FDZixPQUFPLElBQUlDLE9BQU8sa0pBQWtKRixLQUFLQyxNQUV4S0UsTUFBSyxTQUFVRixHQUFLLE9BQU9BLEssd0VDaEJoQ0csRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYTVILFFBR3JCLElBQUlDLEVBQVN3SCxFQUF5QkUsR0FBWSxDQUdqRDNILFFBQVMsSUFPVixPQUhBOEgsRUFBb0JILEdBQVUxSCxFQUFRQSxFQUFPRCxRQUFTMEgsR0FHL0N6SCxFQUFPRCxRLE9DcEJmMEgsRUFBb0JLLEVBQUksQ0FBQy9ILEVBQVNnSSxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hOLEVBQW9CSixFQUFFVSxFQUFZQyxLQUFTUCxFQUFvQkosRUFBRXRILEVBQVNpSSxJQUM1RUMsT0FBT0MsZUFBZW5JLEVBQVNpSSxFQUFLLENBQUVHLFlBQVksRUFBTUMsSUFBS0wsRUFBV0MsTUNKM0VQLEVBQW9CSixFQUFJLENBQUNnQixFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NsRmIsRUFBb0JpQixFQUFLM0ksSUFDSCxvQkFBWDRJLFFBQTBCQSxPQUFPQyxhQUMxQ1gsT0FBT0MsZUFBZW5JLEVBQVM0SSxPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RaLE9BQU9DLGVBQWVuSSxFQUFTLGFBQWMsQ0FBRThJLE9BQU8sS0NGN0JwQixFQUFvQixNIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1widm5TdHJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1widm5TdHJcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJ2YXIgX2EgPSByZXF1aXJlKFwiLi9zcmMvdmFsaWRhdGVTdHJpbmdcIiksIGlzVmlldG5hbWVzZVBob25lTnVtYmVyID0gX2EuaXNWaWV0bmFtZXNlUGhvbmVOdW1iZXIsIGlzVmlldG5hbWVzZVRvbmVzID0gX2EuaXNWaWV0bmFtZXNlVG9uZXM7XHJcbnZhciBudW1Ub1RleHQgPSByZXF1aXJlKFwiLi9zcmMvY29udmVydE51bWJlclwiKS5udW1Ub1RleHQ7XHJcbnZhciBfYiA9IHJlcXVpcmUoXCIuL3NyYy9yZW1vdmVTdHJpbmdcIiksIHJtTm9uQWxwaGFudW1lcmljID0gX2Iucm1Ob25BbHBoYW51bWVyaWMsIHJtVm5Ub25lcyA9IF9iLnJtVm5Ub25lcztcclxudmFyIF9jID0gcmVxdWlyZShcIi4vc3JjL2NvbnZlcnRTdHJpbmdcIiksIHN0clRvVGVsZXggPSBfYy5zdHJUb1RlbGV4LCBzdHJUb1ZOSSA9IF9jLnN0clRvVk5JO1xyXG5tb2R1bGUuZXhwb3J0cy5pc1ZpZXRuYW1lc2VQaG9uZU51bWJlciA9IGlzVmlldG5hbWVzZVBob25lTnVtYmVyO1xyXG5tb2R1bGUuZXhwb3J0cy5pc1ZpZXRuYW1lc2VUb25lcyA9IGlzVmlldG5hbWVzZVRvbmVzO1xyXG5tb2R1bGUuZXhwb3J0cy5udW1Ub1RleHQgPSBudW1Ub1RleHQ7XHJcbm1vZHVsZS5leHBvcnRzLnJtTm9uQWxwaGFudW1lcmljID0gcm1Ob25BbHBoYW51bWVyaWM7XHJcbm1vZHVsZS5leHBvcnRzLnJtVm5Ub25lcyA9IHJtVm5Ub25lcztcclxubW9kdWxlLmV4cG9ydHMuc3RyVG9UZWxleCA9IHN0clRvVGVsZXg7XHJcbm1vZHVsZS5leHBvcnRzLnN0clRvVk5JID0gc3RyVG9WTkk7XHJcbiIsInZhciBiYXNlID0gW1xyXG4gICAgXCJraMO0bmdcIixcclxuICAgIFwibeG7mXRcIixcclxuICAgIFwiaGFpXCIsXHJcbiAgICBcImJhXCIsXHJcbiAgICBcImLhu5FuXCIsXHJcbiAgICBcIm7Eg21cIixcclxuICAgIFwic8OhdVwiLFxyXG4gICAgXCJi4bqjeVwiLFxyXG4gICAgXCJ0w6FtXCIsXHJcbiAgICBcImNow61uXCIsXHJcbl07XHJcbnZhciBiYXNlX3RlbiA9IFtcclxuICAgIFwibcaw4budaVwiLFxyXG4gICAgXCJoYWkgbcawxqFpXCIsXHJcbiAgICBcImJhIG3GsMahaVwiLFxyXG4gICAgXCJi4buRbiBtxrDGoWlcIixcclxuICAgIFwibsSDbSBtxrDGoWlcIixcclxuICAgIFwic8OhdSBtxrDGoWlcIixcclxuICAgIFwiYuG6o3kgbcawxqFpXCIsXHJcbiAgICBcInTDoW0gbcawxqFpXCIsXHJcbiAgICBcImNow61uIG3GsMahaVwiLFxyXG5dO1xyXG52YXIgYmFzZV9odW5kcmVkID0gW1xyXG4gICAgXCJraMO0bmcgdHLEg21cIixcclxuICAgIFwibeG7mXQgdHLEg21cIixcclxuICAgIFwiaGFpIHRyxINtXCIsXHJcbiAgICBcImJhIHRyxINtXCIsXHJcbiAgICBcImLhu5FuIHRyxINtXCIsXHJcbiAgICBcIm7Eg20gdHLEg21cIixcclxuICAgIFwic8OhdSB0csSDbVwiLFxyXG4gICAgXCJi4bqjeSB0csSDbVwiLFxyXG4gICAgXCJ0w6FtIHRyxINtXCIsXHJcbiAgICBcImNow61uIHRyxINtXCIsXHJcbl07XHJcbmZ1bmN0aW9uIGdldFRlbihudW1iZXIpIHtcclxuICAgIHZhciBhcnJheSA9IChcIlwiICsgbnVtYmVyKS5zcGxpdChcIlwiKTtcclxuICAgIHZhciBmaXJzdCA9IHBhcnNlSW50KGFycmF5WzBdKTtcclxuICAgIHZhciBzZWNvbmQgPSBwYXJzZUludChhcnJheVsxXSk7XHJcbiAgICBpZiAoc2Vjb25kID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VfdGVuW2ZpcnN0IC0gMV07XHJcbiAgICB9XHJcbiAgICBpZiAoc2Vjb25kID09PSA1KSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VfdGVuW2ZpcnN0IC0gMV0gKyBcIiBsXFx1MDEwM21cIjtcclxuICAgIH1cclxuICAgIGlmIChzZWNvbmQgPT09IDQpIHtcclxuICAgICAgICByZXR1cm4gYmFzZV90ZW5bZmlyc3QgLSAxXSArIFwiIHRcXHUwMUIwXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoc2Vjb25kID09PSAxKSB7XHJcbiAgICAgICAgaWYgKGZpcnN0ID09PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiYXNlX3RlbltmaXJzdCAtIDFdICsgXCIgbVxcdTFFRDl0XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBiYXNlX3RlbltmaXJzdCAtIDFdICsgXCIgbVxcdTFFRDF0XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYmFzZV90ZW5bZmlyc3QgLSAxXSArIFwiIFwiICsgYmFzZVtzZWNvbmRdO1xyXG59XHJcbmZ1bmN0aW9uIGdldEh1bmRyZWQobnVtYmVyKSB7XHJcbiAgICB2YXIgYXJyYXkgPSAoXCJcIiArIG51bWJlcikuc3BsaXQoXCJcIik7XHJcbiAgICB2YXIgZmlyc3QgPSBwYXJzZUludChhcnJheVswXSk7XHJcbiAgICB2YXIgc2Vjb25kID0gcGFyc2VJbnQoYXJyYXlbMV0pO1xyXG4gICAgdmFyIHRoaXJkID0gcGFyc2VJbnQoYXJyYXlbMl0pO1xyXG4gICAgaWYgKHNlY29uZCA+IDApIHtcclxuICAgICAgICByZXR1cm4gYmFzZV9odW5kcmVkW2ZpcnN0XSArIFwiIFwiICsgZ2V0VGVuKFwiXCIgKyBzZWNvbmQgKyB0aGlyZCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcmQgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIGJhc2VfaHVuZHJlZFtmaXJzdF07XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcmQgPT09IDQpIHtcclxuICAgICAgICByZXR1cm4gYmFzZV9odW5kcmVkW2ZpcnN0XSArIFwiIGxpbmggdFxcdTAxQjBcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBiYXNlX2h1bmRyZWRbZmlyc3RdICsgXCIgbGluaCBcIiArIGJhc2VbdGhpcmRdO1xyXG59XHJcbmZ1bmN0aW9uIGdldFRob3VzYW5kKG51bWJlcikge1xyXG4gICAgdmFyIHJldmVyc2VfYXJyYXkgPSAoXCJcIiArIG51bWJlcikuc3BsaXQoXCJcIikucmV2ZXJzZSgpO1xyXG4gICAgdmFyIGFmdGVyX251bWJlciA9IHJldmVyc2VfYXJyYXkuc2xpY2UoMCwgMykucmV2ZXJzZSgpLmpvaW4oXCJcIik7XHJcbiAgICB2YXIgYmVmb3JlX251bWJlciA9IHBhcnNlSW50KHJldmVyc2VfYXJyYXkuc2xpY2UoMywgcmV2ZXJzZV9hcnJheS5sZW5ndGgpLnJldmVyc2UoKS5qb2luKFwiXCIpKTtcclxuICAgIHZhciBiZWZvcmVMZW5ndGggPSAoXCJcIiArIGJlZm9yZV9udW1iZXIpLmxlbmd0aDtcclxuICAgIHZhciBhZnRlclRleHQgPSBcIlwiO1xyXG4gICAgaWYgKHBhcnNlSW50KGFmdGVyX251bWJlcikgPiAxKSB7XHJcbiAgICAgICAgYWZ0ZXJUZXh0ID0gZ2V0SHVuZHJlZChhZnRlcl9udW1iZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZUxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBiYXNlW2JlZm9yZV9udW1iZXJdICsgXCIgbmdoXFx1MDBFQ24gXCIgKyBhZnRlclRleHQ7XHJcbiAgICB9XHJcbiAgICBpZiAoYmVmb3JlTGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldFRlbihcIlwiICsgYmVmb3JlX251bWJlcikgKyBcIiBuZ2hcXHUwMEVDbiBcIiArIGFmdGVyVGV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiBnZXRIdW5kcmVkKFwiXCIgKyBiZWZvcmVfbnVtYmVyKSArIFwiIG5naFxcdTAwRUNuIFwiICsgYWZ0ZXJUZXh0O1xyXG59XHJcbmZ1bmN0aW9uIGdldE1pbGxpb24obnVtYmVyKSB7XHJcbiAgICB2YXIgcmV2ZXJzZV9hcnJheSA9IChcIlwiICsgbnVtYmVyKS5zcGxpdChcIlwiKS5yZXZlcnNlKCk7XHJcbiAgICB2YXIgYWZ0ZXJfbnVtYmVyID0gcmV2ZXJzZV9hcnJheS5zbGljZSgwLCA2KS5yZXZlcnNlKCkuam9pbihcIlwiKTtcclxuICAgIHZhciBiZWZvcmVfbnVtYmVyID0gcGFyc2VJbnQocmV2ZXJzZV9hcnJheS5zbGljZSg2LCByZXZlcnNlX2FycmF5Lmxlbmd0aCkucmV2ZXJzZSgpLmpvaW4oXCJcIikpO1xyXG4gICAgdmFyIGJlZm9yZUxlbmd0aCA9IChcIlwiICsgYmVmb3JlX251bWJlcikubGVuZ3RoO1xyXG4gICAgdmFyIGFmdGVyVGV4dCA9IFwiXCI7XHJcbiAgICBpZiAocGFyc2VJbnQoYWZ0ZXJfbnVtYmVyKSA+IDk5OSkge1xyXG4gICAgICAgIGFmdGVyVGV4dCA9IGdldFRob3VzYW5kKGFmdGVyX251bWJlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwYXJzZUludChhZnRlcl9udW1iZXIpIDw9IDk5OSAmJiBwYXJzZUludChhZnRlcl9udW1iZXIpID49IDEpIHtcclxuICAgICAgICBhZnRlclRleHQgPSBnZXRIdW5kcmVkKChcIlwiICsgYWZ0ZXJfbnVtYmVyKS5zcGxpdChcIlwiKS5zbGljZSgzLCA2KS5qb2luKFwiXCIpKTtcclxuICAgIH1cclxuICAgIGlmIChiZWZvcmVMZW5ndGggPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gYmFzZVtiZWZvcmVfbnVtYmVyXSArIFwiIHRyaVxcdTFFQzd1IFwiICsgYWZ0ZXJUZXh0O1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZUxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIHJldHVybiBnZXRUZW4oXCJcIiArIGJlZm9yZV9udW1iZXIpICsgXCIgdHJpXFx1MUVDN3UgXCIgKyBhZnRlclRleHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ2V0SHVuZHJlZChcIlwiICsgYmVmb3JlX251bWJlcikgKyBcIiB0cmlcXHUxRUM3dSBcIiArIGFmdGVyVGV4dDtcclxufVxyXG5mdW5jdGlvbiBnZXRCaWxsaW9uKG51bWJlcikge1xyXG4gICAgdmFyIHJldmVyc2VfYXJyYXkgPSAoXCJcIiArIG51bWJlcikuc3BsaXQoXCJcIikucmV2ZXJzZSgpO1xyXG4gICAgdmFyIGFmdGVyX251bWJlciA9IHJldmVyc2VfYXJyYXkuc2xpY2UoMCwgOSkucmV2ZXJzZSgpLmpvaW4oXCJcIik7XHJcbiAgICB2YXIgYmVmb3JlX251bWJlciA9IHBhcnNlSW50KHJldmVyc2VfYXJyYXkuc2xpY2UoOSwgcmV2ZXJzZV9hcnJheS5sZW5ndGgpLnJldmVyc2UoKS5qb2luKFwiXCIpKTtcclxuICAgIHZhciBhZnRlclRleHQgPSBcIlwiO1xyXG4gICAgaWYgKHBhcnNlSW50KGFmdGVyX251bWJlcikgPiA5OTk5OTkgJiYgcGFyc2VJbnQoYWZ0ZXJfbnVtYmVyKSA8PSA5OTk5OTk5OTkpIHtcclxuICAgICAgICBhZnRlclRleHQgPSBnZXRNaWxsaW9uKGFmdGVyX251bWJlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwYXJzZUludChhZnRlcl9udW1iZXIpIDw9IDk5OTk5OSAmJiBwYXJzZUludChhZnRlcl9udW1iZXIpID4gOTk5KSB7XHJcbiAgICAgICAgYWZ0ZXJUZXh0ID0gZ2V0VGhvdXNhbmQoKFwiXCIgKyBhZnRlcl9udW1iZXIpLnNwbGl0KFwiXCIpLnNsaWNlKDMsIDkpLmpvaW4oXCJcIikpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGFyc2VJbnQoYWZ0ZXJfbnVtYmVyKSA8PSA5OTkgJiYgcGFyc2VJbnQoYWZ0ZXJfbnVtYmVyKSA+PSAxKSB7XHJcbiAgICAgICAgYWZ0ZXJUZXh0ID0gZ2V0SHVuZHJlZCgoXCJcIiArIGFmdGVyX251bWJlcikuc3BsaXQoXCJcIikuc2xpY2UoNiwgOSkuam9pbihcIlwiKSk7XHJcbiAgICB9XHJcbiAgICB2YXIgYmVmb3JlTGVuZ3RoID0gKFwiXCIgKyBiZWZvcmVfbnVtYmVyKS5sZW5ndGg7XHJcbiAgICBpZiAoYmVmb3JlTGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VbYmVmb3JlX251bWJlcl0gKyBcIiB0XFx1MUVGNyBcIiArIGFmdGVyVGV4dDtcclxuICAgIH1cclxuICAgIGlmIChiZWZvcmVMZW5ndGggPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gZ2V0VGVuKFwiXCIgKyBiZWZvcmVfbnVtYmVyKSArIFwiIHRcXHUxRUY3IFwiICsgYWZ0ZXJUZXh0O1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZUxlbmd0aCA9PT0gMykge1xyXG4gICAgICAgIHJldHVybiBnZXRIdW5kcmVkKFwiXCIgKyBiZWZvcmVfbnVtYmVyKSArIFwiIHRcXHUxRUY3IFwiICsgYWZ0ZXJUZXh0O1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZUxlbmd0aCA+IDMgJiYgYmVmb3JlTGVuZ3RoIDw9IDYpIHtcclxuICAgICAgICByZXR1cm4gZ2V0VGhvdXNhbmQoXCJcIiArIGJlZm9yZV9udW1iZXIpICsgXCIgdFxcdTFFRjcgXCIgKyBhZnRlclRleHQ7XHJcbiAgICB9XHJcbiAgICBpZiAoYmVmb3JlTGVuZ3RoID4gNiAmJiBiZWZvcmVMZW5ndGggPD0gOSkge1xyXG4gICAgICAgIHJldHVybiBnZXRNaWxsaW9uKFwiXCIgKyBiZWZvcmVfbnVtYmVyKSArIFwiIHRcXHUxRUY3IFwiICsgYWZ0ZXJUZXh0O1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZUxlbmd0aCA+IDkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0QmlsbGlvbihcIlwiICsgYmVmb3JlX251bWJlcikgKyBcIiB0XFx1MUVGNyBcIiArIGFmdGVyVGV4dDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogTnVtYmVyIFRvIFRleHQgVmlldG5hbWVzZVxyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IG51bVxyXG4gKiBAcmV0dXJucyBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBudW1Ub1RleHQobnVtKSB7XHJcbiAgICBpZiAobnVtIDwgMCkge1xyXG4gICAgICAgIHJldHVybiBcIlxcdTAwRTJtIFwiICsgbnVtVG9UZXh0KE1hdGguYWJzKG51bSkpO1xyXG4gICAgfVxyXG4gICAgdmFyIGxlbmd0aCA9IChcIlwiICsgbnVtKS5sZW5ndGg7XHJcbiAgICBpZiAobGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VbbnVtXS50cmltKCk7XHJcbiAgICB9XHJcbiAgICBpZiAobGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldFRlbihcIlwiICsgbnVtKS50cmltKCk7XHJcbiAgICB9XHJcbiAgICBpZiAobGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEh1bmRyZWQoXCJcIiArIG51bSkudHJpbSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGxlbmd0aCA+IDMgJiYgbGVuZ3RoIDw9IDYpIHtcclxuICAgICAgICByZXR1cm4gZ2V0VGhvdXNhbmQoXCJcIiArIG51bSkudHJpbSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGxlbmd0aCA+IDYgJiYgbGVuZ3RoIDw9IDkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0TWlsbGlvbihcIlwiICsgbnVtKS50cmltKCk7XHJcbiAgICB9XHJcbiAgICBpZiAobGVuZ3RoID4gOSkge1xyXG4gICAgICAgIHJldHVybiBnZXRCaWxsaW9uKFwiXCIgKyBudW0pLnRyaW0oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbiIsInZhciBWTl9URUxFWCA9IHtcclxuICAgIMOhOiBcImFzXCIsXHJcbiAgICDDoDogXCJhZlwiLFxyXG4gICAg4bqjOiBcImFyXCIsXHJcbiAgICDDozogXCJheFwiLFxyXG4gICAg4bqhOiBcImFqXCIsXHJcbiAgICDhuq86IFwiYXdzXCIsXHJcbiAgICDhurE6IFwiYXdmXCIsXHJcbiAgICDhurM6IFwiYXdyXCIsXHJcbiAgICDhurU6IFwiYXd4XCIsXHJcbiAgICDhurc6IFwiYXdqXCIsXHJcbiAgICDEgzogXCJhd1wiLFxyXG4gICAg4bqlOiBcImFhc1wiLFxyXG4gICAg4bqnOiBcImFhZlwiLFxyXG4gICAg4bqpOiBcImFhclwiLFxyXG4gICAg4bqrOiBcImFheFwiLFxyXG4gICAg4bqtOiBcImFhalwiLFxyXG4gICAgw6I6IFwiYWFcIixcclxuICAgIMSROiBcImRkXCIsXHJcbiAgICDDqTogXCJlc1wiLFxyXG4gICAgw6g6IFwiZWZcIixcclxuICAgIOG6uzogXCJlclwiLFxyXG4gICAg4bq9OiBcImV4XCIsXHJcbiAgICDhurk6IFwiZWpcIixcclxuICAgIOG6vzogXCJlZXNcIixcclxuICAgIOG7gTogXCJlZWZcIixcclxuICAgIOG7gzogXCJlZXJcIixcclxuICAgIOG7hTogXCJlZXhcIixcclxuICAgIOG7hzogXCJlZWpcIixcclxuICAgIMOqOiBcImVlXCIsXHJcbiAgICDDrTogXCJpc1wiLFxyXG4gICAgw6w6IFwiaWZcIixcclxuICAgIOG7iTogXCJpclwiLFxyXG4gICAgxKk6IFwiaXhcIixcclxuICAgIOG7izogXCJpalwiLFxyXG4gICAgw7M6IFwib3NcIixcclxuICAgIMOyOiBcIm9mXCIsXHJcbiAgICDhu486IFwib3JcIixcclxuICAgIMO1OiBcIm94XCIsXHJcbiAgICDhu406IFwib2pcIixcclxuICAgIOG7kTogXCJvb3NcIixcclxuICAgIOG7kzogXCJvb2ZcIixcclxuICAgIOG7lTogXCJvb3JcIixcclxuICAgIOG7lzogXCJvb3hcIixcclxuICAgIOG7mTogXCJvb2pcIixcclxuICAgIMO0OiBcIm9vXCIsXHJcbiAgICDhu5s6IFwib3dzXCIsXHJcbiAgICDhu506IFwib3dmXCIsXHJcbiAgICDhu586IFwib3dyXCIsXHJcbiAgICDhu6E6IFwib3d4XCIsXHJcbiAgICDhu6M6IFwib3dqXCIsXHJcbiAgICDGoTogXCJvd1wiLFxyXG4gICAgw7o6IFwidXNcIixcclxuICAgIMO5OiBcInVmXCIsXHJcbiAgICDhu6c6IFwidXJcIixcclxuICAgIMWpOiBcInV4XCIsXHJcbiAgICDhu6U6IFwidWpcIixcclxuICAgIOG7qTogXCJ1d3NcIixcclxuICAgIOG7qzogXCJ1d2ZcIixcclxuICAgIOG7rTogXCJ1d3JcIixcclxuICAgIOG7rzogXCJ1d3hcIixcclxuICAgIOG7sTogXCJ1d2pcIixcclxuICAgIMawOiBcInV3XCIsXHJcbiAgICDDvTogXCJ5c1wiLFxyXG4gICAg4buzOiBcInlmXCIsXHJcbiAgICDhu7c6IFwieXJcIixcclxuICAgIOG7uTogXCJ5eFwiLFxyXG4gICAg4bu1OiBcInlqXCIsXHJcbn07XHJcbnZhciBWTl9WTkkgPSB7XHJcbiAgICDDoTogXCJhMVwiLFxyXG4gICAgw6A6IFwiYTJcIixcclxuICAgIOG6ozogXCJhM1wiLFxyXG4gICAgw6M6IFwiYTRcIixcclxuICAgIOG6oTogXCJhNVwiLFxyXG4gICAg4bqvOiBcImE4MVwiLFxyXG4gICAg4bqxOiBcImE4MlwiLFxyXG4gICAg4bqzOiBcImE4M1wiLFxyXG4gICAg4bq1OiBcImE4NFwiLFxyXG4gICAg4bq3OiBcImE4NVwiLFxyXG4gICAgxIM6IFwiYThcIixcclxuICAgIOG6pTogXCJhNjFcIixcclxuICAgIOG6pzogXCJhNjJcIixcclxuICAgIOG6qTogXCJhNjNcIixcclxuICAgIOG6qzogXCJhNjRcIixcclxuICAgIOG6rTogXCJhNjVcIixcclxuICAgIMOiOiBcImE2XCIsXHJcbiAgICDEkTogXCJkOVwiLFxyXG4gICAgw6k6IFwiZTFcIixcclxuICAgIMOoOiBcImUyXCIsXHJcbiAgICDhurs6IFwiZTNcIixcclxuICAgIOG6vTogXCJlNFwiLFxyXG4gICAg4bq5OiBcImU1XCIsXHJcbiAgICDhur86IFwiZTYxXCIsXHJcbiAgICDhu4E6IFwiZTYyXCIsXHJcbiAgICDhu4M6IFwiZTYzXCIsXHJcbiAgICDhu4U6IFwiZTY0XCIsXHJcbiAgICDhu4c6IFwiZTY1XCIsXHJcbiAgICDDqjogXCJlNlwiLFxyXG4gICAgw606IFwiaTFcIixcclxuICAgIMOsOiBcImkyXCIsXHJcbiAgICDhu4k6IFwiaTNcIixcclxuICAgIMSpOiBcImk0XCIsXHJcbiAgICDhu4s6IFwiaTVcIixcclxuICAgIMOzOiBcIm8xXCIsXHJcbiAgICDDsjogXCJvMlwiLFxyXG4gICAg4buPOiBcIm8zXCIsXHJcbiAgICDDtTogXCJvNFwiLFxyXG4gICAg4buNOiBcIm81XCIsXHJcbiAgICDhu5E6IFwibzYxXCIsXHJcbiAgICDhu5M6IFwibzYyXCIsXHJcbiAgICDhu5U6IFwibzYzXCIsXHJcbiAgICDhu5c6IFwibzY0XCIsXHJcbiAgICDhu5k6IFwibzY1XCIsXHJcbiAgICDDtDogXCJvNlwiLFxyXG4gICAg4bubOiBcIm83MVwiLFxyXG4gICAg4budOiBcIm83MlwiLFxyXG4gICAg4bufOiBcIm83M1wiLFxyXG4gICAg4buhOiBcIm83NFwiLFxyXG4gICAg4bujOiBcIm83NVwiLFxyXG4gICAgxqE6IFwibzdcIixcclxuICAgIMO6OiBcInUxXCIsXHJcbiAgICDDuTogXCJ1MlwiLFxyXG4gICAg4bunOiBcInUzXCIsXHJcbiAgICDFqTogXCJ1NFwiLFxyXG4gICAg4bulOiBcInU1XCIsXHJcbiAgICDhu6k6IFwidTcxXCIsXHJcbiAgICDhu6s6IFwidTcyXCIsXHJcbiAgICDhu606IFwidTczXCIsXHJcbiAgICDhu686IFwidTc0XCIsXHJcbiAgICDhu7E6IFwidTc1XCIsXHJcbiAgICDGsDogXCJ1N1wiLFxyXG4gICAgw706IFwieTFcIixcclxuICAgIOG7szogXCJ5MlwiLFxyXG4gICAg4bu3OiBcInkzXCIsXHJcbiAgICDhu7k6IFwieTRcIixcclxuICAgIOG7tTogXCJ5NVwiLFxyXG59O1xyXG4vKipcclxuICogQ29udmVydCBTdHJpbmcgVmlldG5hbWVzZSBUbyBVbmljb2RlIFRlbGV4XHJcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RyVG9UZWxleChzdHIpIHtcclxuICAgIHJldHVybiBzdHJcclxuICAgICAgICAuc3BsaXQoXCJcIilcclxuICAgICAgICAubWFwKGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBWTl9URUxFWFtjaGFyXSB8fCBjaGFyOyB9KVxyXG4gICAgICAgIC5qb2luKFwiXCIpO1xyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0IFN0cmluZyBWaWV0bmFtZXNlIFRvIFVuaWNvZGUgVk5JXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RyVG9WTkkoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyXHJcbiAgICAgICAgLnNwbGl0KFwiXCIpXHJcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoY2hhcikgeyByZXR1cm4gVk5fVk5JW2NoYXJdIHx8IGNoYXI7IH0pXHJcbiAgICAgICAgLmpvaW4oXCJcIik7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFJlbW92ZSBWaWV0bmFtZXNlIFRvbmVzXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcm1WblRvbmVzKHN0cikge1xyXG4gICAgcmV0dXJuIHN0clxyXG4gICAgICAgIC5ub3JtYWxpemUoXCJORkRcIilcclxuICAgICAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvxJEvZywgXCJkXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL8SQL2csIFwiRFwiKTtcclxufVxyXG4vKipcclxuICogUmVtb3ZlIE5vbi1BbHBoYW51bWVyaWMgVmlldG5hbWVzZSBDaGFyYWN0ZXJzXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcm1Ob25BbHBoYW51bWVyaWMoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1teMC05YS16w6DDoeG6oeG6o8Ojw6LhuqfhuqXhuq3huqnhuqvEg+G6seG6r+G6t+G6s+G6tcOow6nhurnhurvhur3DquG7geG6v+G7h+G7g+G7hcOsw63hu4vhu4nEqcOyw7Phu43hu4/DtcO04buT4buR4buZ4buV4buXxqHhu53hu5vhu6Phu5/hu6HDucO64bul4bunxanGsOG7q+G7qeG7seG7reG7r+G7s8O94bu14bu34bu5xJFcXHNdL2dpLCBcIlwiKTtcclxufVxyXG4iLCIvKipcclxuICogQ2hlY2sgVmlldG5hbWVzZSBQaG9uZSBOdW1iZXJcclxuICogQHBhcmFtICB7c3RyaW5nfSBzdHJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1ZpZXRuYW1lc2VQaG9uZU51bWJlcihzdHIpIHtcclxuICAgIHJldHVybiAvKCheKFxcKzg0fDg0fDB8MDA4NCl7MX0pKDN8NXw3fDh8OSkpKyhbMC05XXs4fSkkLy50ZXN0KHN0cik7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIEFueSBWaWV0bmFtZXNlIFRvbmVzIEluIFN0cmluZ1xyXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlldG5hbWVzZVRvbmVzKHN0cikge1xyXG4gICAgcmV0dXJuIHN0clxyXG4gICAgICAgIC5zcGxpdChcIlwiKVxyXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIl5bw4DDgcOCw4PDiMOJw4rDjMONw5LDk8OUw5XDmcOaxILEkMSoxajGoMOgw6HDosOjw6jDqcOqw6zDrcOyw7PDtMO1w7nDusSDxJHEqcWpxqHGr8SC4bqg4bqi4bqk4bqm4bqo4bqq4bqs4bqu4bqw4bqy4bq04bq24bq44bq64bq84buA4buA4buC4bq+xrDEg+G6oeG6o+G6peG6p+G6qeG6q+G6reG6r+G6seG6s+G6teG6t+G6ueG6u+G6veG7geG7geG7g+G6v+G7hOG7huG7iOG7iuG7jOG7juG7kOG7kuG7lOG7luG7mOG7muG7nOG7nuG7oOG7ouG7pOG7puG7qOG7quG7heG7h+G7ieG7i+G7jeG7j+G7keG7k+G7leG7l+G7meG7m+G7neG7n+G7oeG7o+G7peG7p+G7qeG7q+G7rOG7ruG7sOG7suG7tMOd4bu24bu44but4buv4bux4buz4bu14bu34bu5XSskXCIpLnRlc3Qobyk7XHJcbiAgICB9KVxyXG4gICAgICAgIC5zb21lKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvOyB9KTtcclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnbW9kdWxlJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDkyKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=